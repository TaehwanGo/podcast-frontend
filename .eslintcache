[{"C:\\github\\uber-eats-challenges\\assignment12-podfornt-login\\src\\index.tsx":"1","C:\\github\\uber-eats-challenges\\assignment12-podfornt-login\\src\\App.tsx":"2","C:\\github\\uber-eats-challenges\\assignment12-podfornt-login\\src\\reportWebVitals.ts":"3","C:\\github\\uber-eats-challenges\\assignment12-podfornt-login\\src\\routers\\logged-in-router.tsx":"4","C:\\github\\uber-eats-challenges\\assignment12-podfornt-login\\src\\routers\\logged-out-router.tsx":"5","C:\\github\\uber-eats-challenges\\assignment12-podfornt-login\\src\\pages\\login.tsx":"6","C:\\github\\uber-eats-challenges\\assignment12-podfornt-login\\src\\components\\form-error.tsx":"7","C:\\github\\uber-eats-challenges\\assignment12-podfornt-login\\src\\apollo.ts":"8","C:\\github\\podcast-frontend\\src\\index.tsx":"9","C:\\github\\podcast-frontend\\src\\App.tsx":"10","C:\\github\\podcast-frontend\\src\\apollo.ts":"11","C:\\github\\podcast-frontend\\src\\components\\form-error.tsx":"12","C:\\github\\podcast-frontend\\src\\pages\\login.tsx":"13","C:\\github\\podcast-frontend\\src\\components\\button.tsx":"14","C:\\github\\podcast-frontend\\src\\reportWebVitals.ts":"15","C:\\github\\podcast-frontend\\src\\routers\\logged-out-router.tsx":"16","C:\\github\\podcast-frontend\\src\\constants.ts":"17","C:\\github\\podcast-frontend\\src\\hooks\\useMe.tsx":"18","C:\\github\\podcast-frontend\\src\\components\\header.tsx":"19","C:\\github\\podcast-frontend\\src\\pages\\create-account.tsx":"20","C:\\github\\podcast-frontend\\src\\pages\\404.tsx":"21","C:\\github\\podcast-frontend\\src\\routers\\logged-in-router.tsx":"22","C:\\github\\podcast-frontend\\src\\pages\\getAllPodcasts.tsx":"23","C:\\github\\podcast-frontend\\src\\components\\account-filler.tsx":"24","C:\\github\\podcast-frontend\\src\\pages\\user\\edit-profile.tsx":"25","C:\\github\\podcast-frontend\\src\\fragment.ts":"26","C:\\github\\podcast-frontend\\src\\pages\\getPodcast.tsx":"27","C:\\github\\podcast-frontend\\src\\__generated__\\globalTypes.ts":"28"},{"size":654,"mtime":1611647974338,"results":"29","hashOfConfig":"30"},{"size":497,"mtime":1611647709563,"results":"31","hashOfConfig":"30"},{"size":425,"mtime":1611520125186,"results":"32","hashOfConfig":"30"},{"size":288,"mtime":1611647529487,"results":"33","hashOfConfig":"30"},{"size":397,"mtime":1611647803508,"results":"34","hashOfConfig":"30"},{"size":3309,"mtime":1611655947012,"results":"35","hashOfConfig":"30"},{"size":229,"mtime":1611654978718,"results":"36","hashOfConfig":"30"},{"size":781,"mtime":1611655862943,"results":"37","hashOfConfig":"30"},{"size":756,"mtime":1611736154250,"results":"38","hashOfConfig":"39"},{"size":497,"mtime":1611647709563,"results":"40","hashOfConfig":"39"},{"size":1547,"mtime":1612262586743,"results":"41","hashOfConfig":"39"},{"size":229,"mtime":1611654978718,"results":"42","hashOfConfig":"39"},{"size":3977,"mtime":1612025482064,"results":"43","hashOfConfig":"39"},{"size":508,"mtime":1611913328028,"results":"44","hashOfConfig":"39"},{"size":425,"mtime":1611520125186,"results":"45","hashOfConfig":"39"},{"size":705,"mtime":1611743272847,"results":"46","hashOfConfig":"39"},{"size":230,"mtime":1611737943107,"results":"47","hashOfConfig":"39"},{"size":266,"mtime":1611740555593,"results":"48","hashOfConfig":"39"},{"size":1168,"mtime":1612173187433,"results":"49","hashOfConfig":"39"},{"size":5076,"mtime":1612025583094,"results":"50","hashOfConfig":"39"},{"size":501,"mtime":1611749042231,"results":"51","hashOfConfig":"39"},{"size":1119,"mtime":1612207876828,"results":"52","hashOfConfig":"39"},{"size":2957,"mtime":1612261858137,"results":"53","hashOfConfig":"39"},{"size":648,"mtime":1612201806812,"results":"54","hashOfConfig":"39"},{"size":3179,"mtime":1612035409882,"results":"55","hashOfConfig":"39"},{"size":183,"mtime":1612195154405,"results":"56","hashOfConfig":"39"},{"size":3820,"mtime":1612262469679,"results":"57","hashOfConfig":"39"},{"size":854,"mtime":1612259202098,"results":"58","hashOfConfig":"39"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"61"},"1tgc2yk",{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"61"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},"1bps31f",{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"85"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"95","messages":"96","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"97"},{"filePath":"98","messages":"99","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"100","messages":"101","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"102","messages":"103","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"104","messages":"105","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"97"},{"filePath":"106","messages":"107","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"108","messages":"109","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"110","messages":"111","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"112","messages":"113","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"114","usedDeprecatedRules":"85"},{"filePath":"115","messages":"116","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"117","messages":"118","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"119","messages":"120","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\github\\uber-eats-challenges\\assignment12-podfornt-login\\src\\index.tsx",[],["121","122"],"C:\\github\\uber-eats-challenges\\assignment12-podfornt-login\\src\\App.tsx",[],"C:\\github\\uber-eats-challenges\\assignment12-podfornt-login\\src\\reportWebVitals.ts",[],"C:\\github\\uber-eats-challenges\\assignment12-podfornt-login\\src\\routers\\logged-in-router.tsx",[],"C:\\github\\uber-eats-challenges\\assignment12-podfornt-login\\src\\routers\\logged-out-router.tsx",[],"C:\\github\\uber-eats-challenges\\assignment12-podfornt-login\\src\\pages\\login.tsx",[],"C:\\github\\uber-eats-challenges\\assignment12-podfornt-login\\src\\components\\form-error.tsx",[],"C:\\github\\uber-eats-challenges\\assignment12-podfornt-login\\src\\apollo.ts",[],"C:\\github\\podcast-frontend\\src\\index.tsx",[],["123","124"],"C:\\github\\podcast-frontend\\src\\App.tsx",[],"C:\\github\\podcast-frontend\\src\\apollo.ts",[],"C:\\github\\podcast-frontend\\src\\components\\form-error.tsx",[],["125","126"],"C:\\github\\podcast-frontend\\src\\pages\\login.tsx",[],"C:\\github\\podcast-frontend\\src\\components\\button.tsx",[],["127","128"],"C:\\github\\podcast-frontend\\src\\reportWebVitals.ts",[],"C:\\github\\podcast-frontend\\src\\routers\\logged-out-router.tsx",[],"C:\\github\\podcast-frontend\\src\\constants.ts",[],["129","130"],"C:\\github\\podcast-frontend\\src\\hooks\\useMe.tsx",[],"C:\\github\\podcast-frontend\\src\\components\\header.tsx",[],"C:\\github\\podcast-frontend\\src\\pages\\create-account.tsx",[],"C:\\github\\podcast-frontend\\src\\pages\\404.tsx",[],"C:\\github\\podcast-frontend\\src\\routers\\logged-in-router.tsx",[],"C:\\github\\podcast-frontend\\src\\pages\\getAllPodcasts.tsx",["131","132","133","134","135"],"C:\\github\\podcast-frontend\\src\\components\\account-filler.tsx",[],"C:\\github\\podcast-frontend\\src\\pages\\user\\edit-profile.tsx",["136"],"import { gql, useApolloClient, useMutation } from '@apollo/client';\nimport { Helmet } from 'react-helmet-async';\nimport { useForm } from 'react-hook-form';\nimport { AccountButton } from '../../components/button';\nimport { useMe } from '../../hooks/useMe';\nimport {\n  editProfile,\n  editProfileVariables,\n} from '../../__generated__/editProfile';\nimport { EMAIL_REGEX } from '../../constants';\n\ninterface IFormProps {\n  email?: string;\n  password?: string;\n}\n\nconst EDIT_PROFILE_MUTATION = gql`\n  mutation editProfile($input: EditProfileInput!) {\n    editProfile(input: $input) {\n      ok\n      error\n    }\n  }\n`;\n\nexport const EditProfile = () => {\n  const { data: userData, refetch } = useMe();\n  const { register, handleSubmit, getValues, formState } = useForm<IFormProps>({\n    defaultValues: {\n      email: userData?.me.email,\n    },\n    mode: 'onChange',\n  });\n  const client = useApolloClient();\n  const onCompleted = async (data: editProfile) => {\n    const {\n      editProfile: { ok },\n    } = data;\n    if (ok && userData) {\n      //update cache\n      const {\n        me: { email: prevEmail, id },\n      } = userData;\n      const { email: newEmail } = getValues();\n      if (prevEmail !== newEmail) {\n        client.writeFragment({\n          id: `User:${id}`,\n          fragment: gql`\n            fragment EditedUser on User {\n              email\n            }\n          `,\n          data: {\n            email: newEmail,\n          },\n        });\n      }\n      //   await refetch();\n    }\n  };\n  const [editProfile, { loading }] = useMutation<\n    editProfile,\n    editProfileVariables\n  >(EDIT_PROFILE_MUTATION, { onCompleted });\n\n  const onSubmit = () => {\n    // getValues 후 edit profile mutation을 call\n    // 그리고 cache도 update : 나중에 다른 스크린에 필요할 수도 있으므로\n    const { email, password } = getValues();\n    editProfile({\n      variables: {\n        input: {\n          email,\n          ...(password !== '' && { password }), // 아무것도 입력안해서 password에 \"\"들어간 경우 password 항목자체가 없게 해서 \"\"으로 password가 변경되는 것을 막아줌\n        },\n      },\n    });\n  };\n  return (\n    <div className=\"w-full flex flex-col px-5 items-center\">\n      <Helmet>\n        <title>Edit Profile | Podcast</title>\n      </Helmet>\n\n      <div className=\"w-full max-w-screen-sm \">\n        <h4 className=\"w-full font-medium text-left text-3xl mb-5\">\n          Edit Profile\n        </h4>\n        <form\n          onSubmit={handleSubmit(onSubmit)}\n          className=\"grid gap-3 mt-5 w-full mb-5\"\n        >\n          <input\n            ref={register({\n              pattern: EMAIL_REGEX,\n            })}\n            name=\"email\"\n            className=\"input\"\n            type=\"email\"\n            placeholder=\"Email\"\n          />\n          <input\n            ref={register}\n            name=\"password\"\n            className=\"input\"\n            type=\"password\"\n            placeholder=\"Password\"\n          />\n          <AccountButton\n            loading={loading}\n            canClick={formState.isValid}\n            actionText=\"Save Profile\"\n          />\n        </form>\n      </div>\n    </div>\n  );\n};\n","C:\\github\\podcast-frontend\\src\\fragment.ts",[],"C:\\github\\podcast-frontend\\src\\pages\\getPodcast.tsx",["137","138","139"],"C:\\github\\podcast-frontend\\src\\__generated__\\globalTypes.ts",[],{"ruleId":"140","replacedBy":"141"},{"ruleId":"142","replacedBy":"143"},{"ruleId":"140","replacedBy":"144"},{"ruleId":"142","replacedBy":"145"},{"ruleId":"140","replacedBy":"146"},{"ruleId":"142","replacedBy":"147"},{"ruleId":"140","replacedBy":"148"},{"ruleId":"142","replacedBy":"149"},{"ruleId":"140","replacedBy":"150"},{"ruleId":"142","replacedBy":"151"},{"ruleId":"152","severity":1,"message":"153","line":3,"column":3,"nodeType":"154","messageId":"155","endLine":3,"endColumn":20},{"ruleId":"152","severity":1,"message":"156","line":4,"column":3,"nodeType":"154","messageId":"155","endLine":4,"endColumn":15},{"ruleId":"152","severity":1,"message":"157","line":6,"column":10,"nodeType":"154","messageId":"155","endLine":6,"endColumn":25},{"ruleId":"152","severity":1,"message":"158","line":12,"column":10,"nodeType":"154","messageId":"155","endLine":12,"endColumn":26},{"ruleId":"152","severity":1,"message":"159","line":39,"column":17,"nodeType":"154","messageId":"155","endLine":39,"endColumn":24},{"ruleId":"152","severity":1,"message":"160","line":27,"column":27,"nodeType":"154","messageId":"155","endLine":27,"endColumn":34},{"ruleId":"152","severity":1,"message":"161","line":10,"column":10,"nodeType":"154","messageId":"155","endLine":10,"endColumn":14},{"ruleId":"152","severity":1,"message":"158","line":13,"column":10,"nodeType":"154","messageId":"155","endLine":13,"endColumn":26},{"ruleId":"152","severity":1,"message":"159","line":55,"column":17,"nodeType":"154","messageId":"155","endLine":55,"endColumn":24},"no-native-reassign",["162"],"no-negated-in-lhs",["163"],["162"],["163"],["162"],["163"],["162"],["163"],["162"],["163"],"@typescript-eslint/no-unused-vars","'faArrowCircleDown' is defined but never used.","Identifier","unusedVar","'faPlusSquare' is defined but never used.","'FontAwesomeIcon' is defined but never used.","'PODCAST_FRAGMENT' is defined but never used.","'loading' is assigned a value but never used.","'refetch' is assigned a value but never used.","'Link' is defined but never used.","no-global-assign","no-unsafe-negation"]